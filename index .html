<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Lia ğŸ’–</title>

<style>
body{
  margin:0;
  font-family:'Comic Sans MS', cursive;
  background: linear-gradient(135deg,#ffd6ec,#ffeef7);
  text-align:center;
  overflow-x:hidden;
  transition:.5s;
}

body.noche{
  background: linear-gradient(135deg,#1a0f2e,#2b1b4d);
  color:white;
}

.card{
  background:white;
  padding:30px;
  margin:40px auto;
  border-radius:25px;
  width:90%;
  max-width:520px;
  box-shadow:0 10px 30px rgba(0,0,0,0.15);
  position:relative;
  z-index:2;
}

body.noche .card{
  background:#2a1f45;
}

h1{color:#ff4fa3;}

button{
  background:#ff6fb5;
  border:none;
  padding:12px 22px;
  border-radius:20px;
  color:white;
  font-size:15px;
  cursor:pointer;
  margin:6px;
  transition:.3s;
}
button:hover{transform:scale(1.1);}

/* ğŸ’Œ carta */
#texto{
  min-height:120px;
  white-space:pre-line;
}

/* ğŸ§¸ ositos */
.bear{
  position:fixed;
  font-size:28px;
  animation:float 8s linear infinite;
  opacity:.7;
}
@keyframes float{
  from{transform:translateY(100vh);}
  to{transform:translateY(-10vh);}
}

/* ğŸ’– corazones click */
.heart{
  position:fixed;
  pointer-events:none;
  animation:rise 1s forwards;
}
@keyframes rise{
  to{transform:translateY(-80px);opacity:0;}
}

/* ğŸ± mascota */
.pet{
  position:fixed;
  bottom:15px;
  right:15px;
  font-size:40px;
  animation:petFloat 3s ease-in-out infinite;
}
@keyframes petFloat{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-10px);}
}

/* ğŸŒˆ barra amor */
.bar{
  width:100%;
  height:18px;
  background:#ffd1e8;
  border-radius:20px;
  overflow:hidden;
  margin:10px 0;
}
.fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#ff4fa3,#ff8ec7);
  transition:1s;
}
</style>
</head>

<body>

<!-- ğŸµ mÃºsica -->
<audio autoplay loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8f1c7b1f7.mp3?filename=sweet-110393.mp3" type="audio/mpeg">
</audio>

<div class="card">
  <h1>Para Lia ğŸ§¸ğŸ’–</h1>

  <button onclick="escribirCarta()">ğŸ’Œ Leer carta</button>
  <button onclick="toggleNoche()">ğŸŒ™ Modo noche</button>
  <button onclick="fuegos()">ğŸ† Celebrar</button>

  <div id="texto"></div>

  <h3 id="contador"></h3>

  <p><b>ğŸ’– Nivel de cariÃ±o</b></p>
  <div class="bar"><div id="fill" class="fill"></div></div>

  <button onclick="secreto()">ğŸ” Mensaje secreto</button>

  <p style="margin-top:15px;">Con cariÃ±o, Luis ğŸ’•</p>
</div>

<div class="pet">ğŸ±âœ¨</div>

<script>
// ğŸ“… CAMBIA FECHA
const inicio=new Date("2024-01-01");

function actualizarContador(){
  const hoy=new Date();
  const dias=Math.floor((hoy-inicio)/(1000*60*60*24));
  document.getElementById("contador").innerText=
    "ğŸ’ Nuestra amistad lleva "+dias+" dÃ­as ğŸ’";

  // barra amor
  const porcentaje=Math.min(dias,100);
  document.getElementById("fill").style.width=porcentaje+"%";
}
setInterval(actualizarContador,1000);
actualizarContador();

// ğŸ’Œ efecto escribir
const mensaje=`Lia...

Gracias por ser mi mejor amiga.

Aunque hoy no estemos cerca,
quiero que recuerdes lo importante
que eres para mÃ­.

Tu amistad hace mis dÃ­as
mucho mÃ¡s bonitos. ğŸ’–âœ¨`;

let i=0;
function escribirCarta(){
  const el=document.getElementById("texto");
  el.innerHTML="";
  i=0;
  const intervalo=setInterval(()=>{
    el.innerHTML+=mensaje[i];
    i++;
    if(i>=mensaje.length) clearInterval(intervalo);
  },35);
}

// ğŸŒ™ modo noche
function toggleNoche(){
  document.body.classList.toggle("noche");
}

// ğŸ secreto
function secreto(){
  const pass=prompt("ğŸ” Ingresa la palabra secreta");
  if(pass && pass.toLowerCase()==="lia"){
    alert("ğŸ’– Eres sÃºper especial para mÃ­, Lia ğŸ«¶âœ¨");
  }else{
    alert("âŒ ContraseÃ±a incorrecta");
  }
}

// ğŸ† fuegos
function fuegos(){
  for(let i=0;i<25;i++){
    const c=document.createElement("div");
    c.className="heart";
    c.innerText="âœ¨";
    c.style.left=Math.random()*100+"vw";
    c.style.top=Math.random()*100+"vh";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),1000);
  }
}

// ğŸ§¸ ositos
function crearOso(){
  const b=document.createElement("div");
  b.className="bear";
  b.innerText="ğŸ§¸";
  b.style.left=Math.random()*100+"vw";
  document.body.appendChild(b);
  setTimeout(()=>b.remove(),10000);
}
setInterval(crearOso,1400);

// ğŸ’– corazones click
document.addEventListener("click",e=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="ğŸ’–";
  h.style.left=e.clientX+"px";
  h.style.top=e.clientY+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),1000);
});
</script>

</body>
</html>